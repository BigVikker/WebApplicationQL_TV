@model IPagedList<WebApplicationQL_TV.Models.Sach>
@using PagedList;
@using WebApplicationQL_TV.Models;
@using PagedList.Mvc;
<link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />


@{
    ViewBag.Title = "Trang chu";
}



<body>
    <div style="font-size:30px"><strong>Bảng Thông Tin Chi Tiết Về Các Sách Đang Được Quản Lý </strong></div>
    <br />

    <br />
    <div class="card-body">
        <table class="table table-bordered" data-page-size="5">
            <thead>
                @using (Html.BeginForm("ThongTinSach", "Sach", FormMethod.Get ))
                {
                    <tr>Tìm Kiếm Theo Đầu Sách : </tr>
                    <input type="text" name="search" value="@ViewBag.Current_search" placeholder="ten sach can tim" />
                    <tr>Sắp Xếp Theo : </tr>
                    <select name="sortBy">
                        <option value="@ViewBag.Current_sortBy">@ViewBag.Current_sortBy</option>
                        <option value="maSach">maSach</option>
                        <option value="tenSach">tenSach</option>
                    </select>
                    <input class="btn btn-default"  type="submit" value="Tìm Kiếm" />
                }

            </thead>

            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.First().maSach)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.First().tenSach)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.First().soTrang)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.First().namXuatBan)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.First().giaSach)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.First().ghiChu)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.First().maNgonNgu)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.First().maLoaiSach)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.First().maNhaXuatBan)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.First().maTacGia)
                    </th>
                    <th>
                        Cac Dich Vu
                    </th>
                </tr>
            </thead>
            <tbody>

                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.maSach)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.tenSach)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.soTrang)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.namXuatBan)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.giaSach)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.ghiChu)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.maNgonNgu)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.maLoaiSach)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.maNhaXuatBan)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.maTacGia)
                        </td>
                        <td>
                            @Html.ActionLink("Edit", "Edit", new { id = item.maSach }) |
                            @Html.ActionLink("Details", "Details", new { id = item.maSach }) |
                            @Html.ActionLink("Delete", "Delete", new { id = item.maSach })
                        </td>
                    </tr>
                }
            </tbody>
        </table>
        <thead>
            @using (var db = new Model1())
            {
                var soSach = db.Saches.Count();
                <tr>
                    Tổng số sách đang được quán lý : @soSach
                </tr>
                @Html.PagedListPager(Model, page => Url.Action("ThongTinSach", "Sach", new { page } ))
            }
        </thead>
    </div>
</body>
