@model IPagedList<WebApplicationQL_TV.Models.BangThongTinTatCaHoaDon>
@using PagedList;
@using WebApplicationQL_TV.Models;
@using PagedList.Mvc;
<link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />


<div>
    <h2>
        <strong>
            Bảng Thông Tin Về Các Hóa Đơn Đang Được Quản Lý
        </strong>
    </h2>
</div>


<p>
    @Html.ActionLink("Create New", "Create", new { @class = "btn btn default" })
</p>
<div>
    @using (Html.BeginForm("ThongTinTatCaDonHang", "DonHang", FormMethod.Get))
    {
        <tr>Tìm Kiếm Theo Mã Hóa Đơn : </tr>
        <input type="text" name="search" value="@ViewBag.Current_search" placeholder="ten sach can tim" />
        <tr>Sắp Xếp Theo : </tr>
        <select name="sortBy">
            <option value="@ViewBag.Current_sortBy">@ViewBag.Current_sortBy</option>
            <option value="maHoaDon">Mã Hóa Đơn </option>
            <option value="NgayMuon">Ngày Mượn</option>
        </select>
        <input class="btn btn-default" type="submit" value="Tìm Kiếm" />
    }

</div>

<table class="table table-bordered">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.First().maHoaDon)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.First().TrangThai)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.First().NgayMuon)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.First().tenThuVien)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.First().tenKH)
        </th>

        <th>
            @Html.DisplayNameFor(model => model.First().tenNV)
        </th>

        <th>
            @Html.DisplayNameFor(model => model.First().tenSach)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.First().soLuong)
        </th>
        <th>
            Các Dịch Vụ
        </th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.maHoaDon)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TrangThai)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.NgayMuon)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.tenThuVien)
            </td>

            <td>
                @Html.DisplayFor(modelItem => item.tenKH)
            </td>

            <td>
                @Html.DisplayFor(modelItem => item.tenNV)
            </td>

            <td>
                @Html.DisplayFor(modelItem => item.tenSach)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.soLuong)
            </td>
            <td>
                @Html.ActionLink("Edit", "Edit", new { id = item.maHoaDon }) |
                @Html.ActionLink("Details", "Details", new { id = item.maHoaDon }) |
                @Html.ActionLink("Delete", "Delete", new { id = item.maHoaDon })
            </td>
        </tr>
    }

</table>
@Html.PagedListPager(Model, page => Url.Action("ThongTinTatCaDonHang", "DonHang", new { page, seach = ViewBag.Current_search, sortBy = ViewBag.Current_sortBy }))
